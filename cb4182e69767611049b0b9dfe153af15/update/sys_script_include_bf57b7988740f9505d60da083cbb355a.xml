<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_script_include">
    <sys_script_include action="INSERT_OR_UPDATE">
        <access>package_private</access>
        <active>true</active>
        <api_name>x_1070098_my_eda_0.EdaWebhookForward</api_name>
        <caller_access/>
        <client_callable>false</client_callable>
        <description>Send an event to EDA Webhook</description>
        <name>EdaWebhookForward</name>
        <script><![CDATA[var EdaWebhookForward = Class.create();

EdaWebhookForward.prototype = {
   
	initialize: function () {
		this.String = Packages.java.lang.String;
		this.URL = Packages.java.net.URL;
        this.StandardCharsets = Packages.java.nio.charset.StandardCharsets;
    
		this.address = probe.getParameter("url");
        this.token = probe.getParameter("token");
        this.data = probe.getParameter("json_data"); 
    },
   
    send: function () {
        try {
            var url = new this.URL(this.address);
			var http = url.openConnection();
            http.setRequestMethod("POST");
            http.setDoOutput(true);
            var data_string = new this.String(this.data);
            var body = data_string.getBytes(this.StandardCharsets.UTF_8);
            http.setFixedLengthStreamingMode(body.length);
            http.setRequestProperty("Content-Type", "application/json");
            http.setRequestProperty("Authorization", "Bearer " + this.token);
			var os = null;
			try {
				os = http.getOutputStream();
				os.write(body);
			} finally {
				os.close();
			}
        }
        catch(e){
            return "Error: " + e.message;
        } 
        return "200";
    },
   
    type: "EdaWebhookForward"
};]]></script>
        <sys_class_name>sys_script_include</sys_class_name>
        <sys_created_by>bill_wei</sys_created_by>
        <sys_created_on>2023-07-11 20:57:22</sys_created_on>
        <sys_customer_update>false</sys_customer_update>
        <sys_id>bf57b7988740f9505d60da083cbb355a</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>EdaWebhookForward</sys_name>
        <sys_package display_value="Event-Driven Ansible Notification Service" source="x_1070098_my_eda_0">cb4182e69767611049b0b9dfe153af15</sys_package>
        <sys_policy>read</sys_policy>
        <sys_replace_on_upgrade>false</sys_replace_on_upgrade>
        <sys_scope display_value="Event-Driven Ansible Notification Service">cb4182e69767611049b0b9dfe153af15</sys_scope>
        <sys_update_name>sys_script_include_bf57b7988740f9505d60da083cbb355a</sys_update_name>
        <sys_updated_by>bill_wei</sys_updated_by>
        <sys_updated_on>2023-07-11 20:57:22</sys_updated_on>
    </sys_script_include>
</record_update>
